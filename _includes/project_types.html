<section id="project-types" class="panel-surface">
    <div class="container">

        <div class="pt-box border-panel" data-pt>

            {% assign pt = site.data.project_types %}

            <header class="pt-header panel-surface--lit">
                <h2 class="quote">What do your typical projects look like?</h2>
                <p class="pt-subtitle">
                    Projects come in different sizes, from routine CAD work to research and test-rig
                    development, to full product development. Pick a tab to see a typical overview of each.
                </p>
            </header>

            <div class="pt-tablist">
                {% for t in pt.types %}
                <button class="pt-tab{% if forloop.first %} is-active{% endif %}">{{ t.label }}</button>
                {% endfor %}
            </div>

            <div class="pt-panels">
                {% for t in pt.types %}
                <section class="pt-panel"{% unless forloop.first %} hidden{% endunless %}>
                    <div class="pt-grid">
                        <div class="pt-col">
                            <h3>Typical briefs</h3>
                            <ul class="pt-list">
                                {% for item in t.briefs %}
                                <li class="mini-quote">{{ item }}</li>
                                {% endfor %}
                            </ul>
                            <h3>Typical deliverables</h3>
                            <ul class="pt-list">
                                {% for item in t.deliverables %}
                                <li>{{ item }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                        <div class="pt-col">
                            <h3>Typical characteristics</h3>
                            <ul class="pt-list">
                                {% for item in t.characteristics %}
                                <li>{{ item }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </section>
                {% endfor %}
            </div>
        </div>
    </div>

    <script>
        (function () {
            const root = document.querySelector('[data-pt]');
            if (!root) return;
            const tabs = Array.from(root.querySelectorAll('.pt-tab'));
            const panels = Array.from(root.querySelectorAll('.pt-panel'));

            function activate(idx) {
                tabs.forEach((t, i) => {
                    const selected = i === idx;
                    t.classList.toggle('is-active', selected);
                    if (panels[i]) panels[i].hidden = !selected;
                });
            }

            tabs.forEach((t, i) => {
                t.addEventListener('click', () => activate(i));
            });
        })();
    </script>
</section>
