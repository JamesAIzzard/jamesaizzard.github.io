<section id="project-types" class="panel-surface">
  <div class="container">
    <!-- Unified box: header (rounded top), full-width tabs, then two-column content -->
    <div class="pt-box border-panel" data-pt>
      <header class="pt-header panel-surface--lit">
        <h2 class="pt-title">What do my typical projects look like?</h2>
        <p class="pt-subtitle">
          Three common paths, from straightforward CAD updates to research tools and full product development
          through alpha/beta. Pick a tab to see how I run each.
        </p>
      </header>

      <div class="pt-tablist" role="tablist" aria-label="Typical projects">
        <button class="pt-tab is-active" id="tab-cad" role="tab" aria-selected="true" aria-controls="panel-cad">
          CAD maintenance & reverse-engineering
        </button>
        <button class="pt-tab" id="tab-research" role="tab" aria-selected="false" aria-controls="panel-research">
          Research tools & lab equipment
        </button>
        <button class="pt-tab" id="tab-full" role="tab" aria-selected="false" aria-controls="panel-full">
          Full product development (to Alpha/Beta)
        </button>
      </div>

      <div class="pt-panels">
        <section id="panel-cad" role="tabpanel" aria-labelledby="tab-cad">
          <div class="pt-grid">
            <div class="pt-col">
              <h3>Typical briefs</h3>
              <ul class="pt-list">
                <li>“We inherited non-parametric legacy CAD/drawings and need clean updates.”</li>
                <li>“We need a 3D scan and a parametric rebuild.”</li>
              </ul>
              <h3>What you get</h3>
              <ul class="pt-list">
                <li>Clean parametric model + updated drawings</li>
                <li>Neutral exports and a short change-log</li>
              </ul>
            </div>
            <div class="pt-col">
              <h3>Mini-gates</h3>
              <ol class="pt-steps">
                <li>Brief & data capture (scan/measure)</li>
                <li>Parametric rebuild</li>
                <li>Cross-check against source / key dims</li>
                <li>Release package</li>
              </ol>
              <p class="pt-note">If scanning adds noise (glossy/deep features), I’ll say so and remodel from key dims.</p>
            </div>
          </div>
        </section>

        <section id="panel-research" role="tabpanel" aria-labelledby="tab-research" hidden>
          <div class="pt-grid">
            <div class="pt-col">
              <h3>Typical briefs</h3>
              <ul class="pt-list">
                <li>Custom rigs to unblock experiments (e.g., oscillation profiles for cell agitation)</li>
                <li>Automated fluid handling with pumps/valves to run transfer protocols</li>
                <li>Production helpers to scale hand-built steps (fold/roll, pick-place, in-line checks)</li>
              </ul>
            </div>
            <div class="pt-col">
              <h3>Mini-gates</h3>
              <ol class="pt-steps">
                <li>Frame scope & constraints</li>
                <li>Concepts & architecture</li>
                <li>De-risk rigs/tests (fail fast)</li>
                <li>Prototype & lab demo</li>
              </ol>
              <p class="pt-note">If the tool drifts toward regulated use, we reset scope and compliance expectations early.</p>
            </div>
          </div>
        </section>

        <section id="panel-full" role="tabpanel" aria-labelledby="tab-full" hidden>
          <div class="pt-grid">
            <div class="pt-col">
              <h3>Best fit</h3>
              <ul class="pt-list">
                <li>From pencil sketch to first working prototypes</li>
                <li>I typically take projects through Alpha/Beta; CMO transfer follows with specialist support</li>
              </ul>
              <h3>Deliverables</h3>
              <ul class="pt-list">
                <li>PRD v1 + traceability, architecture</li>
                <li>DFM-minded CAD, costed BoM, test plan</li>
                <li>Prototypes and risk log with evidence</li>
              </ul>
            </div>
            <div class="pt-col">
              <h3>Stage-gate (early-phase)</h3>
              <ol class="pt-steps">
                <li><strong>G1 · Frame:</strong> brief, constraints, applicable standards, top risks, kill-criteria</li>
                <li><strong>G2 · Concepts & architecture:</strong> interfaces; options vs baseline</li>
                <li><strong>G3 · De-risk:</strong> target 1–3 riskiest assumptions with fast rigs</li>
                <li><strong>G4 · Detailed design & prototype:</strong> CAD, drawings; first article(s)</li>
                <li><strong>G5 · Alpha/Beta:</strong> iterate to function/reliability; plan CMO transfer if needed</li>
              </ol>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>

  <!-- Tiny, accessible tabs script (kept inline to avoid more assets) -->
  <script>
    (function () {
      const root = document.querySelector('[data-pt]');
      if (!root) return;
      const tabs = Array.from(root.querySelectorAll('[role="tab"]'));
      const panels = Array.from(root.querySelectorAll('[role="tabpanel"]'));

      function activate(idx) {
        tabs.forEach((t, i) => {
          const selected = i === idx;
          t.classList.toggle('is-active', selected);
          t.setAttribute('aria-selected', selected ? 'true' : 'false');
          const panel = document.getElementById(t.getAttribute('aria-controls'));
          if (panel) panel.hidden = !selected;
        });
      }

      tabs.forEach((t, i) => {
        t.addEventListener('click', () => activate(i));
        t.addEventListener('keydown', (e) => {
          if (e.key === 'ArrowRight') { e.preventDefault(); activate((i + 1) % tabs.length); tabs[(i + 1) % tabs.length].focus(); }
          if (e.key === 'ArrowLeft')  { e.preventDefault(); activate((i - 1 + tabs.length) % tabs.length); tabs[(i - 1 + tabs.length) % tabs.length].focus(); }
        });
      });
    })();
  </script>
</section>
